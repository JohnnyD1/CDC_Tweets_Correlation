ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.68, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.68, xend = x + v-.68, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.68, xend = x + (v - 0.1)-.68, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.6, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.6, xend = x + v-.6, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.6, xend = x + (v - 0.1)-.6, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
# Influenza Mortality Rate
p2 <- ggplot(mapping = aes(x = x-.5, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.5, xend = x + v-.5, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.5, xend = x + (v - 0.1)-.5, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-1, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-1, xend = x + v-1, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-1, xend = x + (v - 0.1)-1, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
# Influenza Mortality Rate
p2 <- ggplot(mapping = aes(x = x-7, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-7, xend = x + v-7, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-7, xend = x + (v - 0.1)-7, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.7, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.7, xend = x + v-.7, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.7, xend = x + (v - 0.1)-.7, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
v <- 0.5
# plot the 'legend'
p2 <- ggplot(mapping = aes(x = x-.55, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.55, xend = x + v-.55, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.55, xend = x + (v - 0.1)-.55, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.4, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.4, xend = x + v-.4, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.4, xend = x + (v - 0.1)-.4, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v, xend = x + v, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v, xend = x + (v - 0.1), yend = y)) +
geom_text(data = d2, aes(x = x + v, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
# Influenza Mortality Rate
p2 <- ggplot(mapping = aes(x = x-.4, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.4, xend = x + v-.4, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.4, xend = x + (v - 0.1)-.4, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.4, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.55, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.55, xend = x + v-.55, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.55, xend = x + (v - 0.1)-.55, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.55, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.65, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.65, xend = x + v-.65, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.65, xend = x + (v - 0.1)-.65, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.65, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.63, xend = x + v-.63, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.63, xend = x + (v - 0.1)-.63, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.63, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.63, xend = x + v-.63, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.63, xend = x + (v - 0.1)-.63, yend = y)) +
geom_text(data = d2, aes(x = x + v, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.53, xend = x + v-.53, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.53, xend = x + (v - 0.1)-.53, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.33, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.63, xend = x + v-.63, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.63, xend = x + (v - 0.1)-.63, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.33, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
source('~/Documents/CSE487/Lab1EDA/part2/part2.R', echo=TRUE)
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.43, xend = x + v-.43, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.43, xend = x + (v - 0.1)-.43, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.33, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
areas_df1 <- read.csv("StateData.csv")
attach(areas_df1)
#setwd("/Users/JohnnyD/Documents/CSE487/Lab1EDA/part2")
colors <- c("10"="#CC0000","9"="#FF4500","8"="#FF8C00", "7"="#FFA500","6"="#FFD700", "5"="#E6FF00","4"="#ABFA33","3"="#97FA33","2"="#3EFC04","1"="#0BE404")
attach(areas_df1)
g <- ggplot(areas_df1, aes(long, lat, group = group2, fill=as.factor(LEVEL))) +
geom_polygon(color = "gray", size = .05) +
scale_fill_manual(values=colors) +
annotate("text", label = "Alaska", x =-122.794213 , y = 30.569676, size = 3, colour = "black")+
annotate("text", label = "Hawaii", x =-108.794213 , y = 29.569676, size = 3, colour = "black")+
annotate("text", label = "Puerto Rico", x =-88.794213 , y = 25.569676, size = 3, colour = "black")+
annotate("text", label = "District of Columbia", x =-70.794213 , y = 34.569676, size = 3, colour = "black")+
annotate("text", label = "New York City", x =-68.794213 , y = 38.569676, size = 3, colour = "black")+
#,breaks=c("10","9", "8","7",  "6","5", "4",  "3", "2","1"),
#  labels=c("","","","","","","","","",""))+
coord_map(projection = "mercator") +
ggtitle("2018-19 Influenza Season \n Week ending Feb 02, 2019")+
theme(plot.title = element_text(face = "bold",hjust=.5,size=11),
legend.position = "none",
axis.text.x = element_blank(), axis.text.y = element_blank(), axis.ticks = element_blank(),
axis.title.y=element_blank(),axis.title.x=element_blank(),
axis.line=element_blank())
# and here we do the extremely tedious task of putting lines and labels to the legend items
# heavily taken from stackoverflow
# create data to plot the legend
# x and y to create a vertical row of points
# all levels of the variable to be represented in the legend (here z)
library(data.table)
d <- data.table(x = 1, y = 1:10, z = factor(1:10))
# cut z into groups which should be displayed as text in legend
d[ , grp := cut(as.numeric(z), breaks = c(0, 2, 5, 7, 11),
labels = c("   Minimal", "Low", "      Moderate", "High"))]
# calculate the start, end and mid points of each group
# used for vertical segments
d2 <- d[ , .(x = 1, y = min(y), yend = max(y), ymid = mean(y)), by = grp]
# end points of segments in long format, used for horizontal 'ticks' on the segments
d3 <- data.table(x = 1, y = unlist(d2[ , .(y, yend)]))
# offset (trial and error)
v <- 0.5
# plot the 'legend'
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.43, xend = x + v-.43, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.43, xend = x + (v - 0.1)-.43, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.33, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
# Influenza Mortality Rate
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.83, xend = x + v-.83, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.83, xend = x + (v - 0.1)-.83, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.33, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
# Influenza Mortality Rate
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.73, xend = x + v-.73, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.73, xend = x + (v - 0.1)-.73, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.33, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.73, xend = x + v-.73, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.73, xend = x + (v - 0.1)-.73, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.43, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
p2 <- ggplot(mapping = aes(x = x-.63, y = y)) +
geom_point(data = d, aes(color = z), size = 5) +
geom_segment(data = d2,
aes(x = x + v-.73, xend = x + v-.73, yend = yend)) +
geom_segment(data = d3,
aes(x = x + v-.73, xend = x + (v - 0.1)-.73, yend = y)) +
geom_text(data = d2, aes(x = x + v - 0.23, y = ymid, label = grp)) +
scale_color_manual(values = colors, guide = FALSE) +
scale_x_continuous(limits = c(0, 4)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.y=element_blank(),
axis.title.x=element_blank(),
axis.line=element_blank())+
theme_void()
library(cowplot)
gg <- plot_grid(g,
plot_grid(NULL, p2, NULL, nrow = 3, rel_heights = c(1, 1.5, 1)),
rel_widths = c(2, 1)) +draw_label("ILI Activity Level", .65, 0.75, hjust = 0, vjust = 0,size=10)
ggsave("HeatMapInfluenza.png",gg,width=7,height=4)
# Influenza Mortality Rate
